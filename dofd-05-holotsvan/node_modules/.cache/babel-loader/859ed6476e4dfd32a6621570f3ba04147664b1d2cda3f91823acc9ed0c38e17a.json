{"ast":null,"code":"import _regeneratorRuntime from\"/home/holotsvan/Desktop/holotsvan_i/dofd-05-holotsvan/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/holotsvan/Desktop/holotsvan_i/dofd-05-holotsvan/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/holotsvan/Desktop/holotsvan_i/dofd-05-holotsvan/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{getProducts as getProductsFromApi,deleteProduct}from\"../api/services\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function ProductList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];useEffect(function(){getProducts();},[]);var getProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var products;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getProductsFromApi();case 2:products=_context.sent;setProducts(products);case 4:case\"end\":return _context.stop();}},_callee);}));return function getProducts(){return _ref.apply(this,arguments);};}();var deleteHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return deleteProduct(id);case 2:getProducts();case 3:case\"end\":return _context2.stop();}},_callee2);}));return function deleteHandler(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/add\",className:\"button is-primary mt-2\",children:\"Add New\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table is-striped is-fullwidth\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(function(product,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:product.name}),/*#__PURE__*/_jsx(\"td\",{children:product.price}),/*#__PURE__*/_jsxs(\"td\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(Link,{style:{marginRight:\"10px\"},to:\"/edit/\".concat(product.id),className:\"button is-small is-info\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleteHandler(product.id);},className:\"button is-small is-danger\",children:\"Delete\"})]})]},product.id);})})]})]});}","map":{"version":3,"names":["React","useEffect","useState","Link","getProducts","getProductsFromApi","deleteProduct","jsx","_jsx","jsxs","_jsxs","ProductList","_useState","_useState2","_slicedToArray","products","setProducts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","sent","stop","apply","arguments","deleteHandler","_ref2","_callee2","id","_callee2$","_context2","_x","children","to","className","map","product","index","name","price","style","display","marginRight","concat","onClick"],"sources":["/home/holotsvan/Desktop/holotsvan_i/dofd-05-holotsvan/src/components/ProductList.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  getProducts as getProductsFromApi,\n  deleteProduct,\n} from \"../api/services\";\n\nexport function ProductList() {\n  const [products, setProducts] = useState([]);\n\n  useEffect(() => {\n    getProducts();\n  }, []);\n\n  const getProducts = async () => {\n    const products = await getProductsFromApi();\n    setProducts(products);\n  };\n\n  const deleteHandler = async (id) => {\n    await deleteProduct(id);\n    getProducts();\n  };\n\n  return (\n    <div>\n      <Link to=\"/add\" className=\"button is-primary mt-2\">\n        Add New\n      </Link>\n      <table className=\"table is-striped is-fullwidth\">\n        <thead>\n          <tr>\n            <th>No</th>\n            <th>Title</th>\n            <th>Price</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {products.map((product, index) => (\n            <tr key={product.id}>\n              <td>{index + 1}</td>\n              <td>{product.name}</td>\n              <td>{product.price}</td>\n              <td style={{ display: \"flex\" }}>\n                <Link\n                  style={{ marginRight: \"10px\" }}\n                  to={`/edit/${product.id}`}\n                  className=\"button is-small is-info\"\n                >\n                  Edit\n                </Link>\n                <button\n                  onClick={() => deleteHandler(product.id)}\n                  className=\"button is-small is-danger\"\n                >\n                  Delete\n                </button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}